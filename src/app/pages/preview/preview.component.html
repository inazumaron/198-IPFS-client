<nz-page-header
  class="site-page-header"
  nzTitle="Your Files"
  nzSubtitle="Browse your IPFS files"
>
  <nz-page-header-extra>
    <a
      nz-dropdown
      nzPlacement="bottomRight"
      nzTrigger="click"
      [nzDropdownMenu]="menu"
    >
      <button nz-button nzType="primary">Add +</button>
    </a>
    <nz-dropdown-menu #menu="nzDropdownMenu">
      <ul nz-menu>
        <li nz-menu-item>
          <a (click)="uploadFile()"> Upload File </a>
        </li>
        <li nz-menu-item>
          <a (click)="uploadFolder()"> Upload Folder </a>
        </li>
        <li nz-menu-item>
          <a (click)="importCID()"> Import from IPFS </a>
        </li>
        <li nz-menu-item>
          <a (click)="makeFolder()"> Create Folder </a>
        </li>
      </ul>
    </nz-dropdown-menu>
  </nz-page-header-extra>
</nz-page-header>

<div class="breadcrumb">
  <nz-breadcrumb>
    <nz-breadcrumb-item>
      <a (click)="navHome()"> Home </a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item *ngFor="let level of levels; let i = index">
      <a (click)="navDirectory(i)">{{ level }}</a>
    </nz-breadcrumb-item>
  </nz-breadcrumb>
</div>
<br />

<div class="files">
  <nz-spin [nzSpinning]="isLoading">
    <nz-list *ngIf="data.length" nzBordered>
      <nz-list-item
        *ngFor="let item of data"
        (click)="viewEntry(item)"
        (contextmenu)="contextMenu($event, ctxMenu, item)"
      >
        <i
          nz-icon
          *ngIf="item.type == 'file'"
          nzType="file-text"
          nzTheme="outline"
        ></i>
        <i
          nz-icon
          *ngIf="item.type == 'directory'"
          nzType="folder"
          nzTheme="outline"
        ></i>
        &nbsp; &nbsp;
        {{ item.name }}
      </nz-list-item>
    </nz-list>

    <div *ngIf="!data.length">
      <br /><br />
      <nz-empty
        (contextmenu)="contextMenuEmpty($event, ctxMenuEmpty)"
      ></nz-empty>
    </div>
  </nz-spin>
</div>

<nz-dropdown-menu #ctxMenu="nzDropdownMenu">
  <ul class="menu" nz-menu>
    <li nz-menu-item (click)="view()">Download</li>
    <li nz-menu-item (click)="copy()">Copy</li>
    <li nz-menu-item (click)="move()">Cut</li>
    <li nz-menu-item (click)="delete()">Delete</li>
    <li *ngIf="clipboard != ''" (click)="paste()" nz-menu-item>Paste</li>
  </ul>
</nz-dropdown-menu>

<nz-dropdown-menu #ctxMenuEmpty="nzDropdownMenu">
  <ul class="menu" nz-menu>
    <li *ngIf="clipboard != ''" (click)="paste()" nz-menu-item>Paste</li>
  </ul>
</nz-dropdown-menu>
